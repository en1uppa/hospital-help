{"remainingRequest":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\babel-loader\\lib\\index.js!D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\src\\views\\admin\\children\\Index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\src\\views\\admin\\children\\Index.vue","mtime":1668008100000},{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\babel.config.js","mtime":1716860000000},{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1716643298000},{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1716643298000},{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1716643298000},{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1716643296000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZm9ybWF0RGF0ZSB9IGZyb20gJ0AvdXRpbC9kYXRlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJJbmRleCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZU5hbWU6ICdmaXJzdCcsCiAgICAgIHBvcFVwczogJ2ZpcnN0JywKICAgICAgdGFza3M6IFtdLAogICAgICB1c2VyczogW10sCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgdHJhbnNmb3JtKHRpbWUpIHsKICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lKTsKICAgICAgcmV0dXJuIGZvcm1hdERhdGUoZGF0ZSwgJ3l5eXktTU0tZGQgaGg6bW0nKTsKICAgIH0sCiAgICBzaG93KCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIC8v55So5oi36L+H5rukCiAgICB1c2VyRmlsdGVyaW5nKGNvbmRpdGlvbikgewogICAgICBsZXQgYXJyID0gdGhpcy51c2Vycy5maWx0ZXIoKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgLy/ojrflj5blvZPlpKnml7bpl7QKICAgICAgICBsZXQgdG9kYXkgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgICB0b2RheSA9IHRoaXMudHJhbnNmb3JtKHRvZGF5KS5zdWJzdHJpbmcoMCwgMTApOwogICAgICAgIC8v6I635Y+W6ICB5pe26Ze0CiAgICAgICAgbGV0IGNyZWF0ZVRpbWUgPSB0aGlzLnRyYW5zZm9ybShpdGVtLmNyZWF0ZVRpbWUpLnN1YnN0cmluZygwLCAxMCk7CiAgICAgICAgaWYgKGNvbmRpdGlvbikgewogICAgICAgICAgcmV0dXJuIHRvZGF5ID09IGNyZWF0ZVRpbWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiB0b2RheSAhPSBjcmVhdGVUaW1lOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBhcnI7CiAgICB9LAogICAgLy/ku4rlpKnku7vliqHov4fmu6QKICAgIHRhc2tGaWx0ZXJpbmcoY29uZGl0aW9uKSB7CiAgICAgIGxldCBhcnIgPSB0aGlzLnRhc2tzLmZpbHRlcigoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICBsZXQgdG9kYXkgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgICB0b2RheSA9IHRoaXMudHJhbnNmb3JtKHRvZGF5KS5zdWJzdHJpbmcoMCwgMTApOwogICAgICAgIC8v6I635Y+W6ICB5pe26Ze0CiAgICAgICAgbGV0IGNyZWF0ZVRpbWUgPSB0aGlzLnRyYW5zZm9ybShpdGVtLmNyZWF0ZVRpbWUpLnN1YnN0cmluZygwLCAxMCk7CiAgICAgICAgaWYgKGNvbmRpdGlvbikgewogICAgICAgICAgcmV0dXJuIHRvZGF5ID09IGNyZWF0ZVRpbWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICh0b2RheSA9PSBjcmVhdGVUaW1lICYmIGl0ZW0uc3RhdGUgPT0gMikgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gYXJyOwogICAgfSwKICAgIC8v6K6h566X5Lu75Yqh5pS255uKCiAgICB0YXNrUmV2ZW51ZShwYXJhbWV0ZXIpIHsKICAgICAgbGV0IG51bSA9IDA7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1ldGVyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbnVtICs9IHBhcmFtZXRlcltpXS5yZXdhcmQ7CiAgICAgIH0KICAgICAgcmV0dXJuIG51bTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRnZXQoIi90YXNrIikudGhlbihyZXMgPT4gewogICAgICB0aGlzLnRhc2tzID0gcmVzLmRhdGEudGFzazsKICAgIH0pOwogICAgdGhpcy4kZ2V0KCIvdXNlciIpLnRoZW4ocnMgPT4gewogICAgICB0aGlzLnVzZXJzID0gcnMuZGF0YS51c2VyOwogICAgfSk7CiAgfSwKICBjb21wdXRlZDogewogICAgY29tcGxldGVkKCkgewogICAgICBsZXQgYXJyID0gdGhpcy50YXNrcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uc3RhdGUgPT0gMjsKICAgICAgfSk7CiAgICAgIHJldHVybiBhcnI7CiAgICB9LAogICAgLy/lvZPlpKkKICAgIHRoYXREYXkoKSB7CiAgICAgIHJldHVybiB0aGlzLnVzZXJGaWx0ZXJpbmcodHJ1ZSk7CiAgICB9LAogICAgLy/ogIHnlKjmiLcKICAgIG9sZEN1c3RvbWVycygpIHsKICAgICAgcmV0dXJuIHRoaXMudXNlckZpbHRlcmluZyhmYWxzZSk7CiAgICB9LAogICAgbmV3VGFzaygpIHsKICAgICAgcmV0dXJuIHRoaXMudGFza0ZpbHRlcmluZyh0cnVlKTsKICAgIH0sCiAgICAvL+W3suWujOaIkOS7u+WKoQogICAgdGFza0NvbXBsZXRlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMudGFza0ZpbHRlcmluZyhmYWxzZSk7CiAgICB9LAogICAgLy/ph5Hpop3orqHnrpcKICAgIG1vbmV5KCkgewogICAgICByZXR1cm4gdGhpcy50YXNrUmV2ZW51ZSh0aGlzLnRhc2tDb21wbGV0ZWQpOwogICAgfSwKICAgIC8v5omA5pyJ5a6M5oiQ5Lu75YqhCiAgICBtaXNzaW9uQWNjb21wbGlzaGVkKCkgewogICAgICBsZXQgYXJyID0gdGhpcy50YXNrcy5maWx0ZXIoKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgaWYgKGl0ZW0uc3RhdGUgPT0gMikgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGFycjsKICAgIH0sCiAgICAvL+aJgOaciemHkeminQogICAgYWxsQW1vdW50cygpIHsKICAgICAgcmV0dXJuIHRoaXMudGFza1JldmVudWUodGhpcy5taXNzaW9uQWNjb21wbGlzaGVkKTsKICAgIH0KICB9LAogIGZpbHRlcnM6IHsKICAgIGZvcm1hdERhdGUodGltZSkgewogICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKHRpbWUpOwogICAgICByZXR1cm4gZm9ybWF0RGF0ZShkYXRlLCAneXl5eS1NTS1kZCBoaDptbScpOwogICAgfQogIH0KfTs="},{"version":3,"names":["formatDate","name","data","activeName","popUps","tasks","users","dialogVisible","methods","transform","time","date","Date","show","userFiltering","condition","arr","filter","item","index","today","getTime","substring","createTime","taskFiltering","state","taskRevenue","parameter","num","i","length","reward","created","$get","then","res","task","rs","user","computed","completed","thatDay","oldCustomers","newTask","taskCompleted","money","missionAccomplished","allAmounts","filters"],"sources":["src/views/admin/children/Index.vue"],"sourcesContent":["<template>\n    <div class=\"content\">\n        <div class=\"title\">\n            <div class=\"title_left\">\n                <h2>{{completed.length}}</h2>\n                <p>已完成任务</p>\n            </div>\n            <div class=\"title_center\">\n                <h2>{{tasks.length}}</h2>\n                <p>任务数量</p>\n            </div>\n            <div class=\"title_right\">\n                <h2>{{users.length}}</h2>\n                <p>总用户</p>\n            </div>\n        </div>\n        <div class=\"bottom\">\n            <el-tabs v-model=\"activeName\" type=\"card\">\n                <el-tab-pane label=\"用户管理\" name=\"first\">\n                    <div class=\"card\">\n                        <el-card class=\"box-card\">\n                            <div slot=\"header\" class=\"clearfix\">\n                                <span>用户</span>\n                                <el-button style=\"float: right; padding: 3px 0\" type=\"text\" @click=\"show\">查看</el-button>\n                            </div>\n                            <div class=\"bottom_txt\">\n                                <p>新增用户<span>{{thatDay.length}}</span></p>\n                                <p>老用户<span>{{oldCustomers.length}}</span></p>\n                            </div>\n                        </el-card>\n                        <el-card class=\"box-card\">\n                            <div slot=\"header\" class=\"clearfix\">\n                                <span>任务</span>\n                            </div>\n                            <div class=\"bottom_txt\">\n                                <p>今天新增任务<span>{{newTask.length}}</span></p>\n                                <p>今天已完成/金额<span>{{taskCompleted.length}}/{{money}}</span></p>\n                            </div>\n                        </el-card>\n                        <el-card class=\"box-card\">\n                            <div slot=\"header\" class=\"clearfix\">\n                                <span>所有任务</span>\n                            </div>\n                            <div class=\"bottom_txt\">\n                                <p>完成任务总数<span>{{missionAccomplished.length}}</span></p>\n                                <p>总数金额<span>{{allAmounts}}</span></p>\n                            </div>\n                        </el-card>\n                    </div>\n                </el-tab-pane>\n            </el-tabs>\n        </div>\n        \n        <el-dialog\n                title=\"提示\"\n                :visible.sync=\"dialogVisible\"\n                width=\"60%\">\n            <el-tabs v-model=\"popUps\" type=\"card\">\n                <el-tab-pane label=\"新用户\" name=\"first\">\n                    <el-table\n                            :data=\"thatDay\"\n                            border\n                            style=\"width: 100%\">\n                        <el-table-column\n                                fixed\n                                prop=\"studentId\"\n                                label=\"学号\"\n                                min-width=\"120\">\n                        </el-table-column>\n                        <el-table-column\n                                prop=\"username\"\n                                label=\"姓名\"\n                                min-width=\"100\">\n                        </el-table-column>\n                        <el-table-column\n                                prop=\"school.name\"\n                                label=\"学校\"\n                                min-width=\"160\">\n                        </el-table-column>\n                        <el-table-column\n                                prop=\"createTime\"\n                                label=\"注册时间\"\n                                min-width=\"140\">\n                            <template slot-scope=\"scope\">\n                                {{scope.row.createTime | formatDate}}\n                            </template>\n                        </el-table-column>\n                        <el-table-column\n                                prop=\"sex\"\n                                label=\"性别\"\n                                min-width=\"100\">\n                            <template slot-scope=\"scope\">\n                                {{scope.row.sex==0 ? '男' : '女'}}\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                </el-tab-pane>\n                <el-tab-pane label=\"老用户\" name=\"second\">\n                    <el-table\n                            :data=\"oldCustomers\"\n                            border\n                            style=\"width: 100%\">\n                        <el-table-column\n                                fixed\n                                prop=\"studentId\"\n                                label=\"学号\"\n                                min-width=\"120\">\n                        </el-table-column>\n                        <el-table-column\n                                prop=\"username\"\n                                label=\"姓名\"\n                                min-width=\"100\">\n                        </el-table-column>\n                        <el-table-column\n                                prop=\"school.name\"\n                                label=\"学校\"\n                                min-width=\"160\">\n                        </el-table-column>\n                        <el-table-column\n                                prop=\"createTime\"\n                                label=\"注册时间\"\n                                min-width=\"140\">\n                            <template slot-scope=\"scope\">\n                                {{scope.row.createTime | formatDate}}\n                            </template>\n                        </el-table-column>\n                        <el-table-column\n                                prop=\"sex\"\n                                label=\"性别\"\n                                min-width=\"100\">\n                            <template slot-scope=\"scope\">\n                                {{scope.row.sex==0 ? '男' : '女'}}\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                </el-tab-pane>\n            </el-tabs>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    import {formatDate} from '@/util/date';\n\n    export default {\n        name: \"Index\",\n        data() {\n            return {\n                activeName: 'first',\n                popUps:'first',\n                tasks: [],\n                users: [],\n                dialogVisible: false,\n            }\n        },\n        methods: {\n            transform(time) {\n                let date = new Date(time);\n                return formatDate(date, 'yyyy-MM-dd hh:mm');\n            },\n            show() {\n                this.dialogVisible = true\n            },\n            //用户过滤\n            userFiltering(condition){\n                let arr = this.users.filter((item, index) => {\n                    //获取当天时间\n                    let today = new Date().getTime();\n                    today = this.transform(today).substring(0, 10);\n                    //获取老时间\n                    let createTime = this.transform(item.createTime).substring(0, 10)\n                    if (condition){\n                        return today == createTime\n                    }else{\n                        return today != createTime\n                    }\n                })\n                return arr\n            },\n            //今天任务过滤\n            taskFiltering(condition){\n                let arr = this.tasks.filter((item,index)=>{\n                    let today = new Date().getTime();\n                    today = this.transform(today).substring(0, 10);\n                    //获取老时间\n                    let createTime = this.transform(item.createTime).substring(0, 10)\n                    if (condition){\n                        return today == createTime\n                    }else{\n                        if (today == createTime && item.state == 2){\n                            return true\n                        }\n                    }\n                })\n                return arr;\n            },\n            //计算任务收益\n            taskRevenue(parameter){\n                let num = 0;\n                for (let i = 0;i<parameter.length;i++){\n                    num += parameter[i].reward\n                }\n                return num\n            }\n        },\n        created() {\n            this.$get(\"/task\")\n            .then(res => {\n                this.tasks = res.data.task\n            })\n\n            this.$get(\"/user\")\n            .then((rs) => {\n                this.users = rs.data.user\n            })\n        },\n        computed: {\n            completed() {\n                let arr = this.tasks.filter(function (item, index) {\n                    return item.state == 2\n                })\n                return arr\n            },\n            //当天\n            thatDay() {\n                return this.userFiltering(true)\n            },\n            //老用户\n            oldCustomers() {\n                return this.userFiltering(false)\n            },\n            newTask(){\n                return this.taskFiltering(true)\n            },\n            //已完成任务\n            taskCompleted(){\n                return this.taskFiltering(false)\n            },\n            //金额计算\n            money(){\n                return this.taskRevenue(this.taskCompleted)\n            },\n            //所有完成任务\n            missionAccomplished(){\n                let arr = this.tasks.filter((item,index) => {\n                    if (item.state == 2){\n                        return true\n                    }\n                })\n                return arr;\n            },\n            //所有金额\n            allAmounts(){\n                return this.taskRevenue(this.missionAccomplished)\n            }\n        },\n        filters: {\n            formatDate(time) {\n                let date = new Date(time);\n                return formatDate(date, 'yyyy-MM-dd hh:mm');\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"less\">\n    .content {\n        background: #FFf;\n        margin: 0px 15px;\n        height: 100%;\n        padding: 15px;\n\n        .title {\n            margin: 15px 0;\n            width: 100%;\n            display: flex;\n            height: 100px;\n            justify-content: space-between;\n\n            div {\n                border-radius: 5px;\n                padding: 15px;\n                color: #fff;\n            }\n\n            div p {\n                font-size: 12px;\n                margin-top: 10px;\n            }\n\n            .title_left {\n                width: 32.5%;\n                background: #e64242;\n            }\n\n            .title_center {\n                width: 32.5%;\n                background: #11b95c;\n            }\n\n            .title_right {\n                width: 32.5%;\n                background: #1f2d3d;\n            }\n        }\n\n        .card {\n            display: flex;\n            margin-bottom: 25px;\n            justify-content: space-between;\n\n            /deep/ .el-card.is-always-shadow {\n                width: 32.4%;\n            }\n        }\n\n        .bottom_txt p:nth-child(1) {\n            margin-top: 10px;\n        }\n\n        .bottom_txt p:nth-child(2) {\n            margin: 15px 0;\n        }\n\n        .bottom_txt span {\n            float: right;\n        }\n\n        /deep/ .el-card__body {\n            padding: 10px 20px !important;\n        }\n    }\n\n    /deep/ .el-alert--info.is-light {\n        height: 50px;\n    }\n</style>"],"mappings":"AA8IA,SAAAA,UAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,UAAA;MACAC,MAAA;MACAC,KAAA;MACAC,KAAA;MACAC,aAAA;IACA;EACA;EACAC,OAAA;IACAC,UAAAC,IAAA;MACA,IAAAC,IAAA,OAAAC,IAAA,CAAAF,IAAA;MACA,OAAAV,UAAA,CAAAW,IAAA;IACA;IACAE,KAAA;MACA,KAAAN,aAAA;IACA;IACA;IACAO,cAAAC,SAAA;MACA,IAAAC,GAAA,QAAAV,KAAA,CAAAW,MAAA,EAAAC,IAAA,EAAAC,KAAA;QACA;QACA,IAAAC,KAAA,OAAAR,IAAA,GAAAS,OAAA;QACAD,KAAA,QAAAX,SAAA,CAAAW,KAAA,EAAAE,SAAA;QACA;QACA,IAAAC,UAAA,QAAAd,SAAA,CAAAS,IAAA,CAAAK,UAAA,EAAAD,SAAA;QACA,IAAAP,SAAA;UACA,OAAAK,KAAA,IAAAG,UAAA;QACA;UACA,OAAAH,KAAA,IAAAG,UAAA;QACA;MACA;MACA,OAAAP,GAAA;IACA;IACA;IACAQ,cAAAT,SAAA;MACA,IAAAC,GAAA,QAAAX,KAAA,CAAAY,MAAA,EAAAC,IAAA,EAAAC,KAAA;QACA,IAAAC,KAAA,OAAAR,IAAA,GAAAS,OAAA;QACAD,KAAA,QAAAX,SAAA,CAAAW,KAAA,EAAAE,SAAA;QACA;QACA,IAAAC,UAAA,QAAAd,SAAA,CAAAS,IAAA,CAAAK,UAAA,EAAAD,SAAA;QACA,IAAAP,SAAA;UACA,OAAAK,KAAA,IAAAG,UAAA;QACA;UACA,IAAAH,KAAA,IAAAG,UAAA,IAAAL,IAAA,CAAAO,KAAA;YACA;UACA;QACA;MACA;MACA,OAAAT,GAAA;IACA;IACA;IACAU,YAAAC,SAAA;MACA,IAAAC,GAAA;MACA,SAAAC,CAAA,MAAAA,CAAA,GAAAF,SAAA,CAAAG,MAAA,EAAAD,CAAA;QACAD,GAAA,IAAAD,SAAA,CAAAE,CAAA,EAAAE,MAAA;MACA;MACA,OAAAH,GAAA;IACA;EACA;EACAI,QAAA;IACA,KAAAC,IAAA,UACAC,IAAA,CAAAC,GAAA;MACA,KAAA9B,KAAA,GAAA8B,GAAA,CAAAjC,IAAA,CAAAkC,IAAA;IACA;IAEA,KAAAH,IAAA,UACAC,IAAA,CAAAG,EAAA;MACA,KAAA/B,KAAA,GAAA+B,EAAA,CAAAnC,IAAA,CAAAoC,IAAA;IACA;EACA;EACAC,QAAA;IACAC,UAAA;MACA,IAAAxB,GAAA,QAAAX,KAAA,CAAAY,MAAA,WAAAC,IAAA,EAAAC,KAAA;QACA,OAAAD,IAAA,CAAAO,KAAA;MACA;MACA,OAAAT,GAAA;IACA;IACA;IACAyB,QAAA;MACA,YAAA3B,aAAA;IACA;IACA;IACA4B,aAAA;MACA,YAAA5B,aAAA;IACA;IACA6B,QAAA;MACA,YAAAnB,aAAA;IACA;IACA;IACAoB,cAAA;MACA,YAAApB,aAAA;IACA;IACA;IACAqB,MAAA;MACA,YAAAnB,WAAA,MAAAkB,aAAA;IACA;IACA;IACAE,oBAAA;MACA,IAAA9B,GAAA,QAAAX,KAAA,CAAAY,MAAA,EAAAC,IAAA,EAAAC,KAAA;QACA,IAAAD,IAAA,CAAAO,KAAA;UACA;QACA;MACA;MACA,OAAAT,GAAA;IACA;IACA;IACA+B,WAAA;MACA,YAAArB,WAAA,MAAAoB,mBAAA;IACA;EACA;EACAE,OAAA;IACAhD,WAAAU,IAAA;MACA,IAAAC,IAAA,OAAAC,IAAA,CAAAF,IAAA;MACA,OAAAV,UAAA,CAAAW,IAAA;IACA;EACA;AACA","ignoreList":[]}]}