{"remainingRequest":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\src\\views\\notice\\advise.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\src\\views\\notice\\advise.vue","mtime":1668008100000},{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1716643298000},{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1716643298000},{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1716643298000},{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1716643296000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgaW1wb3J0IHsgbGlzdEFkdmlzZSwgZ2V0QWR2aXNlLCBkZWxBZHZpc2UsIGFkZEFkdmlzZSwgdXBkYXRlQWR2aXNlIH0gZnJvbSAiQC9hcGkvbm90aWNlL2FkdmlzZSI7CiAgaW1wb3J0IHtmb3JtYXREYXRlfSBmcm9tICdAL3V0aWwvZGF0ZSc7CgogIGV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJBZHZpc2UiLAogICAgZGF0YSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAvLyDpga7nvanlsYIKICAgICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAgIC8vIOmAieS4reaVsOe7hAogICAgICAgIGlkczogW10sCiAgICAgICAgLy8g6Z2e5Y2V5Liq56aB55SoCiAgICAgICAgc2luZ2xlOiB0cnVlLAogICAgICAgIC8vIOmdnuWkmuS4quemgeeUqAogICAgICAgIG11bHRpcGxlOiB0cnVlLAogICAgICAgIC8vIOaYvuekuuaQnOe0ouadoeS7tgogICAgICAgIHNob3dTZWFyY2g6IHRydWUsCiAgICAgICAgLy8g5oC75p2h5pWwCiAgICAgICAgdG90YWw6IDAsCiAgICAgICAgLy8g6YCa55+l5YWs5ZGK5YWs5ZGK6KGo5qC85pWw5o2uCiAgICAgICAgYWR2aXNlTGlzdDogW10sCiAgICAgICAgLy8g5by55Ye65bGC5qCH6aKYCiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggogICAgICAgIG9wZW46IGZhbHNlLAogICAgICAgIC8vIOafpeivouWPguaVsAogICAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgICAgcGFnZVNpemU6IDEwLAogICAgICAgICAgbm90aWNlVGl0bGU6IG51bGwsCiAgICAgICAgICBub3RpY2VDb250ZW50OiBudWxsLAogICAgICAgIH0sCiAgICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgICAgZm9ybToge30sCiAgICAgICAgLy8g6KGo5Y2V5qCh6aqMCiAgICAgICAgcnVsZXM6IHsKICAgICAgICAgIG5vdGljZVRpdGxlOiBbCiAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLlhazlkYrmoIfpopjkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiYmx1ciIgfQogICAgICAgICAgXSwKICAgICAgICB9CiAgICAgIH07CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAvKiog5p+l6K+i6YCa55+l5YWs5ZGK5YWs5ZGK5YiX6KGoICovCiAgICAgIGdldExpc3QoKSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICBsaXN0QWR2aXNlKHRoaXMucXVlcnlQYXJhbXMpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy5hZHZpc2VMaXN0ID0gcmVzcG9uc2UuZGF0YS5yb3dzOwogICAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLnRvdGFsOwogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIC8qKiDmlrDlop7mjInpkq7mk43kvZwgKi8KICAgICAgaGFuZGxlQWRkKCkgewogICAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICAgIHRoaXMudGl0bGUgPSAi5re75Yqg6YCa55+l5YWs5ZGKIjsKICAgICAgfSwKCiAgICAgIC8qKiDkv67mlLnmjInpkq7mk43kvZwgKi8KICAgICAgaGFuZGxlVXBkYXRlKHJvdykgewogICAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgICBjb25zdCBub3RpY2VJZCA9IHJvdy5ub3RpY2VJZCB8fCB0aGlzLmlkcwogICAgICAgIGdldEFkdmlzZShub3RpY2VJZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLmZvcm0gPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICAgICAgdGhpcy50aXRsZSA9ICLkv67mlLnpgJrnn6XlhazlkYrlhazlkYoiOwogICAgICAgIH0pOwogICAgICB9LAoKICAgICAgLyoqIOaPkOS6pOaMiemSriAqLwogICAgICBzdWJtaXRGb3JtKCkgewogICAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgaWYgKHRoaXMuZm9ybS5ub3RpY2VJZCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgdXBkYXRlQWR2aXNlKHRoaXMuZm9ybSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKCLkv67mlLnmiJDlip8iKTsKICAgICAgICAgICAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgYWRkQWR2aXNlKHRoaXMuZm9ybSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKCLmlrDlop7miJDlip8iKTsKICAgICAgICAgICAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgLyoqIOWIoOmZpOaMiemSruaTjeS9nCAqLwogICAgICBoYW5kbGVEZWxldGUocm93KSB7CiAgICAgICAgY29uc3Qgbm90aWNlSWRzID0gcm93Lm5vdGljZUlkIHx8IHRoaXMuaWRzOwogICAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuehruiupOWIoOmZpOatpOWtpueUnycsICfmj5DnpLonLCB7CiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgIGRlbEFkdmlzZShub3RpY2VJZHMpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnyEnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgICAgICB9KTsgICAgICAgICAgCiAgICAgICAgICAgIH0pOwogICAgICB9LAogICAgICAvLyDlj5bmtojmjInpkq4KICAgICAgY2FuY2VsKCkgewogICAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgfSwKICAgICAgLy8g6KGo5Y2V6YeN572uCiAgICAgIHJlc2V0KCkgewogICAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICAgIG5vdGljZUlkOiBudWxsLAogICAgICAgICAgbm90aWNlVGl0bGU6IG51bGwsCiAgICAgICAgICBub3RpY2VDb250ZW50OiBudWxsLAogICAgICAgICAgY3JlYXRlQnk6IG51bGwsCiAgICAgICAgICBjcmVhdGVUaW1lOiBudWxsLAogICAgICAgICAgcmVtYXJrOiBudWxsCiAgICAgICAgfTsKICAgICAgICAvLyB0aGlzLnJlc2V0Rm9ybSgiZm9ybSIpOwogICAgICB9LAogICAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovCiAgICAgIGhhbmRsZVF1ZXJ5KCkgewogICAgICAgIHRoaXMucXVlcnlQYXJhbXMucGFnZU51bSA9IDE7CiAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgIH0sCiAgICAgIC8vIOWkmumAieahhumAieS4reaVsOaNrgogICAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7CiAgICAgICAgdGhpcy5pZHMgPSBzZWxlY3Rpb24ubWFwKGl0ZW0gPT4gaXRlbS5ub3RpY2VJZCkKICAgICAgICB0aGlzLnNpbmdsZSA9IHNlbGVjdGlvbi5sZW5ndGghPT0xCiAgICAgICAgdGhpcy5tdWx0aXBsZSA9ICFzZWxlY3Rpb24ubGVuZ3RoCiAgICAgIH0sCiAgICAgIHRyYW5zZm9ybSh0aW1lKSB7CiAgICAgICAgICAgICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKHRpbWUpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdERhdGUoZGF0ZSwgJ3l5eXktTU0tZGQgaGg6bW0nKTsKICAgICAgfQogICAgfSwKCiAgfTsK"},{"version":3,"sources":["advise.vue"],"names":[],"mappings":";AA+HA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"advise.vue","sourceRoot":"src/views/notice","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\n      <el-form-item label=\"公告标题\" prop=\"noticeTitle\">\n        <el-input\n          v-model=\"queryParams.noticeTitle\"\n          placeholder=\"请输入公告标题\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item label=\"公告内容\" prop=\"noticeContent\">\n        <el-input\n          v-model=\"queryParams.noticeContent\"\n          placeholder=\"请输入公告内容\"\n          clearable\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n      </el-form-item>\n    </el-form>\n\n    <el-row :gutter=\"10\" class=\"mb8\">\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"primary\"\n          plain\n          icon=\"el-icon-plus\"\n          size=\"mini\"\n          @click=\"handleAdd\"\n        >发布公告</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"success\"\n          plain\n          icon=\"el-icon-edit\"\n          size=\"mini\"\n          :disabled=\"single\"\n          @click=\"handleUpdate\"\n        >修改</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"danger\"\n          plain\n          icon=\"el-icon-delete\"\n          size=\"mini\"\n          :disabled=\"multiple\"\n          @click=\"handleDelete\"\n        >删除</el-button>\n      </el-col>\n      <!-- <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar> -->\n    </el-row>\n\n    <el-table v-loading=\"loading\" :data=\"adviseList\" @selection-change=\"handleSelectionChange\">\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n      <el-table-column label=\"序号\" align=\"center\" prop=\"noticeId\" width=\"100\" />\n      <el-table-column label=\"公告标题\" align=\"center\" prop=\"noticeTitle\" />\n      <el-table-column label=\"创建者\" align=\"center\" prop=\"createBy\" width=\"100\" />\n\n      <el-table-column label=\"创建时间\" align=\"center\" prop=\"createTime\" width=\"200\">\n        <template slot-scope=\"scope\">\n          <span>{{ transform(scope.row.createTime) }}</span>\n        </template> \n      </el-table-column>\n\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-edit\"\n            @click=\"handleUpdate(scope.row)\"\n          >修改</el-button>\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-delete\"\n            @click=\"handleDelete(scope.row)\"\n          >删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    /> -->\n\n    <!-- 添加或修改通知公告公告对话框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"743px\" append-to-body>\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\n        <el-form-item label=\"公告标题\" prop=\"noticeTitle\">\n          <el-input v-model=\"form.noticeTitle\" placeholder=\"请输入公告标题\" />\n        </el-form-item>\n        <el-form-item label=\"公告内容\" prop=\"noticeContent\">\n          <el-input\n                        resize=\"none\"\n                        type=\"textarea\"\n                        :autosize=\"{ minRows: 6, maxRows: 10}\"\n                        placeholder=\"请输入公告内容\"\n                        v-model=\"form.noticeContent\" style=\"padding: 0\">\n          </el-input>\n          <!-- <quill-editor v-model=\"form.noticeContent\" placeholder=\"请输入公告内容\" /> -->\n        </el-form-item>\n        <el-form-item label=\"备注\" prop=\"remark\">\n          <el-input v-model=\"form.remark\" placeholder=\"请输入备注\" />\n        </el-form-item>\n        <el-form-item label=\"创建者\" prop=\"remark\">\n          <el-input v-model=\"form.createBy\" placeholder=\"请输入备注\" />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import { listAdvise, getAdvise, delAdvise, addAdvise, updateAdvise } from \"@/api/notice/advise\";\n  import {formatDate} from '@/util/date';\n\n  export default {\n    name: \"Advise\",\n    data() {\n      return {\n        // 遮罩层\n        loading: true,\n        // 选中数组\n        ids: [],\n        // 非单个禁用\n        single: true,\n        // 非多个禁用\n        multiple: true,\n        // 显示搜索条件\n        showSearch: true,\n        // 总条数\n        total: 0,\n        // 通知公告公告表格数据\n        adviseList: [],\n        // 弹出层标题\n        title: \"\",\n        // 是否显示弹出层\n        open: false,\n        // 查询参数\n        queryParams: {\n          pageNum: 1,\n          pageSize: 10,\n          noticeTitle: null,\n          noticeContent: null,\n        },\n        // 表单参数\n        form: {},\n        // 表单校验\n        rules: {\n          noticeTitle: [\n            { required: true, message: \"公告标题不能为空\", trigger: \"blur\" }\n          ],\n        }\n      };\n    },\n    created() {\n      this.getList();\n    },\n    methods: {\n      /** 查询通知公告公告列表 */\n      getList() {\n        this.loading = true;\n        listAdvise(this.queryParams).then(response => {\n          this.adviseList = response.data.rows;\n          this.total = response.total;\n          this.loading = false;\n        });\n      },\n      /** 新增按钮操作 */\n      handleAdd() {\n        this.reset();\n        this.open = true;\n        this.title = \"添加通知公告\";\n      },\n\n      /** 修改按钮操作 */\n      handleUpdate(row) {\n        this.reset();\n        const noticeId = row.noticeId || this.ids\n        getAdvise(noticeId).then(response => {\n          this.form = response.data.data;\n          this.open = true;\n          this.title = \"修改通知公告公告\";\n        });\n      },\n\n      /** 提交按钮 */\n      submitForm() {\n        this.$refs[\"form\"].validate(valid => {\n          if (valid) {\n            if (this.form.noticeId != null) {\n              updateAdvise(this.form).then(response => {\n                this.$message(\"修改成功\");\n                this.open = false;\n                this.getList();\n              });\n            } else {\n              addAdvise(this.form).then(response => {\n                this.$message(\"新增成功\");\n                this.open = false;\n                this.getList();\n              });\n            }\n          }\n        });\n      },\n      /** 删除按钮操作 */\n      handleDelete(row) {\n        const noticeIds = row.noticeId || this.ids;\n        this.$confirm('是否确认删除此学生', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning',\n            }).then(() => {\n            delAdvise(noticeIds).then(response => {\n                this.open = false;\n                this.getList();\n            });\n            this.$message({\n                type: 'success',\n                message: '删除成功!'\n                });\n\n            }).catch(() => {\n            this.$message({\n                type: 'info',\n                message: '已取消删除'\n            });          \n            });\n      },\n      // 取消按钮\n      cancel() {\n        this.open = false;\n        this.reset();\n      },\n      // 表单重置\n      reset() {\n        this.form = {\n          noticeId: null,\n          noticeTitle: null,\n          noticeContent: null,\n          createBy: null,\n          createTime: null,\n          remark: null\n        };\n        // this.resetForm(\"form\");\n      },\n      /** 搜索按钮操作 */\n      handleQuery() {\n        this.queryParams.pageNum = 1;\n        this.getList();\n      },\n      // 多选框选中数据\n      handleSelectionChange(selection) {\n        this.ids = selection.map(item => item.noticeId)\n        this.single = selection.length!==1\n        this.multiple = !selection.length\n      },\n      transform(time) {\n                let date = new Date(time);\n                return formatDate(date, 'yyyy-MM-dd hh:mm');\n      }\n    },\n\n  };\n</script>\n"]}]}