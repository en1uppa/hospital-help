{"remainingRequest":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\src\\views\\user\\children\\Accepted.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\src\\views\\user\\children\\Accepted.vue","mtime":1717055120000},{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1716643298000},{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1716643298000},{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1716643298000},{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1716643296000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICBpbXBvcnQge21hcFN0YXRlfSBmcm9tICJ2dWV4IjsKICAgIGltcG9ydCB7Zm9ybWF0RGF0ZX0gZnJvbSAnQC91dGlsL2RhdGUnOwogICAgaW1wb3J0IHVzZXIgZnJvbSAiQHMvc3RvcmUvbW9kdWxlL3VzZXIiOwoKICAgIGV4cG9ydCBkZWZhdWx0IHsKICAgICAgICBuYW1lOiAiQWNjZXB0ZWQiLAogICAgICAgIGRhdGEoKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBhY3RpdmVOYW1lczogWycxJ10sCiAgICAgICAgICAgICAgICB0YXNrczogW10sCiAgICAgICAgICAgICAgICAvLyBkcmF3ZXI6ZmFsc2UsCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICBjb21wdXRlZDogewogICAgICAgICAgICAuLi5tYXBTdGF0ZSgndXNlcicsIFsndXNlciddKQogICAgICAgIH0sCiAgICAgICAgY3JlYXRlZCgpIHsKICAgICAgICAgICAgdGhpcy5uZXdMaXN0KCkKICAgICAgICB9LAogICAgICAgIG1ldGhvZHM6IHsKICAgICAgICAgICAgZGVsKGlkKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRwdXQoJy90YXNrL3Rha2VyQ2FuY2VsLycgKyBpZCkKICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5TXNnKCfmiJDlip8nLCAn5Y+W5raI5Lu75Yqh5oiQ5YqfJywgJ3N1Y2Nlc3MnKQogICAgICAgICAgICAgICAgICAgIHRoaXMubmV3TGlzdCgpCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9LAogICAgICAgICAgICBuZXdMaXN0KCkgewogICAgICAgICAgICAgICAgdGhpcy4kZ2V0KCIvdGFzay9hY2NlcHRlZCIsIHtpZDogdGhpcy51c2VyLmlkfSkKICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXNrcyA9IHJlcy5kYXRhLnRhc2sKICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRhc2tzKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZmlsdGVyczogewogICAgICAgICAgICBmb3JtYXREYXRlKHRpbWUpIHsKICAgICAgICAgICAgICAgIGxldCBkYXRlID0gbmV3IERhdGUodGltZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0RGF0ZShkYXRlLCAneXl5eS1NTS1kZCBoaDptbScpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQo="},{"version":3,"sources":["Accepted.vue"],"names":[],"mappings":";AAgFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Accepted.vue","sourceRoot":"src/views/user/children","sourcesContent":["<template>\n    <div class=\"content\">\n        <el-card class=\"box-card\">\n            <div slot=\"header\" class=\"clearfix\">\n                <span>已接收任务</span>\n            </div>\n            \n            <!-- 已接受任务卡片 -->\n            <el-card class=\"box-card\" style=\"margin-top: 20px\" v-for=\"item in tasks\">\n                <div slot=\"header\" class=\"clearfix\"\n                     style=\"display: flex; align-items: center; justify-content: space-between\">\n                        <span style=\"display: flex;align-items: center\">\n                            <el-tag :type=\"item.state == 0 ? 'danger':(item.state == 1 ? 'warning':'success')\"\n                                    style=\"margin-right: 5px\">{{item.state == 0 ? '待解决':(item.state == 1 ? '服务中':'已完成')}}</el-tag>\n                            {{item.taskTitle}}\n                        </span>\n                    <!--                    <el-button style=\"float: right; padding: 3px 0\" type=\"text\">查看接受人信息</el-button>-->\n                    <template>\n                        <el-popconfirm title=\"确定取消任务吗\" @confirm=\"del(item.id)\">\n                            <el-button style=\"float: right; padding: 3px 0\" type=\"text\" slot=\"reference\"\n                                       v-show=\"item.state != 2\">取消任务\n                            </el-button>\n                        </el-popconfirm>\n                    </template>\n                </div>\n                <div>\n                    {{item.taskContext}}\n                </div>\n                <el-collapse style=\"margin-top: 20px\" v-model=\"activeNames\">\n                    <el-collapse-item title=\"发布人信息\" name=\"1\">\n                        <el-card class=\"box-card\">\n                            \n                            <div slot=\"header\" class=\"clearfix\">\n                                <span>{{item.publish.username}}</span>\n                                <!-- <el-button style=\"float: right; padding: 3px 0\" type=\"text\">投诉</el-button> -->\n                            </div>\n\n                            <div class=\"box_center\">\n                                <table cellspacing=\"0\">\n                                    <tr>\n                                        <th>电话</th>\n                                        <th>学校</th>\n                                        <th>所在系</th>\n                                        <th>所在班级</th>\n                                        <th>任务奖励</th>\n                                        <th>接受任务时间</th>\n                                    </tr>\n                                    <tr align=\"center\">\n                                        <td>{{item.publish.phone}}</td>\n                                        <td>{{item.publish.school.name}}</td>\n                                        <td>{{item.publish.dept.name}}</td>\n                                        <td>{{item.publish.aclass.name}}</td>\n                                        <td><i class=\"el-icon-money\" style=\"color: red;\">{{item.reward}}元</i></td>\n                                        <td>{{item.orderTime | formatDate}}</td>\n                                    </tr>\n                                </table>\n                            </div>\n                        </el-card>\n\n                    </el-collapse-item>\n                    <el-collapse-item title=\"查看钱款\" name=\"2\" v-if=\"item.state == 2\">\n                        <el-card class=\"box-card\">\n                            <div>\n                                <p>实收款：<i class=\"el-icon-money\" style=\"color: red;\">{{item.reward}}元</i></p>\n                                <p>到款时间：{{item.endTime | formatDate}}</p>\n                            </div>\n                        </el-card>\n                    </el-collapse-item>\n                </el-collapse>\n            </el-card>\n\n            <div style=\"text-align: center\">\n                <span v-if=\"tasks.length == 0\"><i class=\"el-icon-refresh-right\"></i>暂无发布任务</span>\n            </div>\n\n        </el-card>\n    </div>\n</template>\n\n<script>\n    import {mapState} from \"vuex\";\n    import {formatDate} from '@/util/date';\n    import user from \"@s/store/module/user\";\n\n    export default {\n        name: \"Accepted\",\n        data() {\n            return {\n                activeNames: ['1'],\n                tasks: [],\n                // drawer:false,\n            };\n        },\n        computed: {\n            ...mapState('user', ['user'])\n        },\n        created() {\n            this.newList()\n        },\n        methods: {\n            del(id) {\n                this.$put('/task/takerCancel/' + id)\n                .then(res => {\n                    this.$notifyMsg('成功', '取消任务成功', 'success')\n                    this.newList()\n                })\n            },\n            newList() {\n                this.$get(\"/task/accepted\", {id: this.user.id})\n                .then(res => {\n                    this.tasks = res.data.task\n                    // console.log(this.tasks)\n                })\n            }\n        },\n        filters: {\n            formatDate(time) {\n                let date = new Date(time);\n                return formatDate(date, 'yyyy-MM-dd hh:mm');\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"less\">\n    .content {\n        background: #FFf;\n        margin: 0 15px;\n        padding: 15px;\n\n        .box_center table {\n            margin: 0 auto;\n            width: 100%;\n            border-top: 1px solid #ebeef5;\n            border-left: 1px solid #ebeef5;\n        }\n\n        .box_center th, td {\n            padding: 15px 20px;\n            border-right: 1px solid #ebeef5;\n            border-bottom: 1px solid #ebeef5;\n        }\n    }\n</style>"]}]}