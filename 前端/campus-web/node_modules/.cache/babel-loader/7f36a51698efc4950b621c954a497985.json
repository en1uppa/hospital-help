{"remainingRequest":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\babel-loader\\lib\\index.js!D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\src\\views\\user\\Home.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\src\\views\\user\\Home.vue","mtime":1717052110000},{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\babel.config.js","mtime":1716860000000},{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1716643298000},{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1716643298000},{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1716643298000},{"path":"D:\\计算机214-35-刘耀祖-web课程设计\\代码\\springbootVue-campus-master\\前端\\campus-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1716643296000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0IHsgbWFwU3RhdGUsIG1hcE11dGF0aW9ucyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgdXNlciBmcm9tICJAcy9zdG9yZS9tb2R1bGUvdXNlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSG9tZSIsCiAgbWV0aG9kczogewogICAgLi4ubWFwTXV0YXRpb25zKCd1c2VyJywgWydzZXRVc2VyJ10pLAogICAgY2hhbmdlQ29sb3IodmFsKSB7CiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInRoZW1lQ29sb3IiLCBKU09OLnN0cmluZ2lmeSh2YWwpKTsKICAgICAgdGhpcy50aGVtZUNvbG9yID0gewogICAgICAgICdiZyc6IHZhbC52YWx1ZSwKICAgICAgICAnY29sb3InOiB2YWwuY29sb3IKICAgICAgfTsKICAgIH0sCiAgICAvL+mdouWMheWxkQogICAgZ2V0QnJlYWRjcnVtYigpIHsKICAgICAgbGV0IG1hdGNoZWQgPSB0aGlzLiRyb3V0ZS5tYXRjaGVkOwogICAgICBpZiAobWF0Y2hlZFswXS5uYW1lICE9ICdob21lJykgewogICAgICAgIG1hdGNoZWQgPSBbewogICAgICAgICAgcGF0aDogIi9ob21lLyIsCiAgICAgICAgICBtZXRhOiB7CiAgICAgICAgICAgIHRpdGxlOiAn6aaW6aG1JwogICAgICAgICAgfQogICAgICAgIH1dLmNvbmNhdChtYXRjaGVkKTsKICAgICAgfQogICAgICB0aGlzLmJyZWFkTGlzdCA9IG1hdGNoZWQ7CiAgICB9LAogICAgLy/lhbPpl63mir3lsYnop6blj5HnmoTkuovku7YKICAgIGhhbmRsZUNsb3NlKGRvbmUpIHsKICAgICAgdGhpcy4kbXNnKCLor7flrozlloTotYTmlpkiLCAiZXJyb3IiKTsKICAgIH0sCiAgICBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmICh0aGlzLnZhbHVlKSB7CiAgICAgICAgICAgIHRoaXMuJHB1dCgiL3VzZXIiLCB7CiAgICAgICAgICAgICAgaWQ6IHRoaXMudXNlci5pZCwKICAgICAgICAgICAgICAiZGVwdElkIjogdGhpcy52YWx1ZVswXSwKICAgICAgICAgICAgICAiY2xhc3NJZCI6IHRoaXMudmFsdWVbMV0sCiAgICAgICAgICAgICAgInVzZXJuYW1lIjogdGhpcy5ydWxlRm9ybS51c2VybmFtZSwKICAgICAgICAgICAgICAicGhvbmUiOiB0aGlzLnJ1bGVGb3JtLnBob25lLAogICAgICAgICAgICAgICdzZXgnOiB0aGlzLnNleAogICAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKQogICAgICAgICAgICAgIHRoaXMuZHJhd2VyID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5TXNnKCLmiJDlip8iLCByZXMuZGF0YS5tc2csICJzdWNjZXNzIik7CiAgICAgICAgICAgICAgdGhpcy5uZXdMaXN0KHRoaXMudXNlci5pZCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kbm90aWZ5TXNnKCLplJnor68iLCAi6K+36YCJ5oup54+t57qnIiwgImVycm9yIik7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdlcnJvciBzdWJtaXQhIScpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/kv67mlLnlr4bnoIEKICAgIHVwZFBhc3N3b3JkKGlkKSB7CiAgICAgIHRoaXMuJHByb21wdCgn6K+36L6T5YWl5a+G56CBJywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgaW5wdXRUeXBlOiAncGFzc3dvcmQnLAogICAgICAgIGNsb3NlT25DbGlja01vZGFsOiBmYWxzZSwKICAgICAgICBpbnB1dFBhdHRlcm46IC9eKD8hWzAtOV0rJCkoPyFbYS16QS1aXSskKVswLTlBLVphLXpdezYsMTZ9JC8sCiAgICAgICAgaW5wdXRFcnJvck1lc3NhZ2U6ICfmoLzlvI/kuI3lr7nvvIzlr4bnoIHlj6rog73ovpPlhaU2LTE25L2N6Iux5paH5ZKM5pWw5a2XJwogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsKICAgICAgICB0aGlzLiRwdXQoJy91c2VyJywgewogICAgICAgICAgaWQ6IGlkLAogICAgICAgICAgcGFzc3dvcmQ6IHJlcy52YWx1ZQogICAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMuJG5vdGlmeU1zZygn5oiQ5YqfJywgcmVzLmRhdGEubXNnLCAnc3VjY2VzcycpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaCgoKSA9PiB7fSk7CiAgICB9LAogICAgcmVjaGFyZ2UoaWQpIHsKICAgICAgdGhpcy4kcHJvbXB0KCfor7fovpPlhaXlhYXlgLzph5Hpop0nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICBpbnB1dFR5cGU6ICd0ZXh0JywKICAgICAgICBjbG9zZU9uQ2xpY2tNb2RhbDogZmFsc2UsCiAgICAgICAgaW5wdXRQYXR0ZXJuOiAvXlswLTldKiQvLAogICAgICAgIGlucHV0RXJyb3JNZXNzYWdlOiAn5qC85byP5LiN5a+577yM5Y+q6IO96L6T5YWl5pWw5a2XJwogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsKICAgICAgICB0aGlzLiRwdXQoJy91c2VyL3JvbGxJbicsIHsKICAgICAgICAgIHN0dWRlbnRJZDogaWQsCiAgICAgICAgICBiYWxhbmNlOiByZXMudmFsdWUKICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLm5ld0xpc3QodGhpcy51c2VyLmlkKTsKICAgICAgICAgIHRoaXMuJG5vdGlmeU1zZygn5oiQ5YqfJywgJ+WFheWAvOaIkOWKnycsICdzdWNjZXNzJyk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKCgpID0+IHt9KTsKICAgIH0sCiAgICBwZXJzb25hbEluZm9ybWF0aW9uKCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLnJ1bGVGb3JtLnVzZXJuYW1lID0gdGhpcy51c2VyLnVzZXJuYW1lOwogICAgICB0aGlzLnJ1bGVGb3JtLnBob25lID0gdGhpcy51c2VyLnBob25lOwogICAgfSwKICAgIHN1Ym1pdENoYW5nZXMoKSB7CiAgICAgIHRoaXMuJHB1dCgiL3VzZXIiLCB7CiAgICAgICAgaWQ6IHRoaXMudXNlci5pZCwKICAgICAgICB1c2VybmFtZTogdGhpcy5ydWxlRm9ybS51c2VybmFtZSwKICAgICAgICBwaG9uZTogdGhpcy5ydWxlRm9ybS5waG9uZQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy4kbm90aWZ5TXNnKCLmiJDlip8iLCByZXMuZGF0YS5tc2csICJzdWNjZXNzIiwgMTAwMCk7CiAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgdGhpcy5uZXdMaXN0KHRoaXMudXNlci5pZCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5qC55o2u5b2T5YmN55So5oi35p+l6K+iaWQKICAgIG5ld0xpc3QoaWQpIHsKICAgICAgdGhpcy4kZ2V0KCIvdXNlci8iICsgaWQpLnRoZW4ocnMgPT4gewogICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInVzZXIiLCBKU09OLnN0cmluZ2lmeShycy5kYXRhLnVzZXIpKTsKICAgICAgICB0aGlzLnNldFVzZXIoSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIikpKTsKICAgICAgICAvLyDkv67mlLnlrozlkI3lrZcsIOa4heepuueVtuWJjWZpcnN0TmFtZTsg6YG/5YWN5Ye654++55aK5YqgCiAgICAgICAgdGhpcy5maXJzdE5hbWUgPSAnJzsKICAgICAgICB0aGlzLnRleHRBdmF0YXIocnMuZGF0YS51c2VyLnVzZXJuYW1lKTsKICAgICAgfSk7CiAgICB9LAogICAgZXhpdCgpIHsKICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgfSwKICAgIC8vIOaWh+Wtl+mgreWDjwogICAgdGV4dEF2YXRhcih1c2VybmFtZSkgewogICAgICBsZXQgYXJyID0gdXNlcm5hbWUuc3BsaXQoJyAnKTsKICAgICAgZm9yICh2YXIgaSBpbiBhcnIpIHsKICAgICAgICB0aGlzLmZpcnN0TmFtZSArPSBhcnJbaV0uc3Vic3RyKDAsIDEpOwogICAgICB9CiAgICAgIHRoaXMuZmlyc3ROYW1lID0gdGhpcy5maXJzdE5hbWUudG9Mb2NhbGVVcHBlckNhc2UoKTsKICAgICAgY29uc29sZS5sb2coJ2ZpcnN0TmFtZS0+JyArIHRoaXMuZmlyc3ROYW1lKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZSgndXNlcicsIFsndXNlciddKSwKICAgIHRoZW1lKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudGhlbWUudGhlbWU7CiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgdmFyIHZhbGlkYXRlVXNlcm5hbWUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeWnk+WQjScpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwogICAgdmFyIHZhbGlkYXRlUGhvbmUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeaJi+acuuWPtycpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwogICAgcmV0dXJuIHsKICAgICAgLy8g5paH5a2X5aS05YOPCiAgICAgIGZpcnN0TmFtZTogJycsCiAgICAgIHJ1bGVGb3JtOiB7CiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIHBob25lOiAnJwogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIHVzZXJuYW1lOiBbewogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZVVzZXJuYW1lLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGhvbmU6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlUGhvbmUsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICAvL+minOiJsgogICAgICB0aGVtZUNvbG9yOiB7CiAgICAgICAgJ2JnJzogJyNmZmYnLAogICAgICAgICdjb2xvcic6ICcjMDAwJwogICAgICB9LAogICAgICAvL+aAp+WIqwogICAgICBzZXg6ICcwJywKICAgICAgZHJhd2VyOiBmYWxzZSwKICAgICAgLy/lvZPliY3ot6/nlLEKICAgICAgYnJlYWRMaXN0OiBbXSwKICAgICAgLy/lvZPliY3lsY/luZXlrr3luqYKICAgICAgd2luZG93V2lkdGg6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCwKICAgICAgYWN0aXZlSW5kZXg6ICcxJywKICAgICAgLy/mjqfliLboj5zljZXmmK/lkKblsZXlvIAKICAgICAgaXNDb2xsYXBzZTogZmFsc2UsCiAgICAgIGFkbWluOiAiIiwKICAgICAgc2Nob29sOiBbXSwKICAgICAgLy/nuqfogZTpgInmi6nlmajnmoTlgLwKICAgICAgdmFsdWU6ICIiLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAnJHJvdXRlJyh0bywgZm9ybSkgewogICAgICB0aGlzLmdldEJyZWFkY3J1bWIoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICBsZXQgdGhlbWUgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInRoZW1lQ29sb3IiKSk7CiAgICBpZiAodGhlbWUpIHsKICAgICAgdGhpcy50aGVtZUNvbG9yID0gewogICAgICAgICdiZyc6IHRoZW1lLnZhbHVlLAogICAgICAgICdjb2xvcic6IHRoZW1lLmNvbG9yCiAgICAgIH07CiAgICB9CiAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKSB7CiAgICAgIHRoaXMuZ2V0QnJlYWRjcnVtYigpOwogICAgICB0aGlzLnNldFVzZXIoSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIikpKTsKICAgICAgaWYgKCF0aGlzLnVzZXIuZGVwdCkgewogICAgICAgIHRoaXMuJGdldCgiL3NjaG9vbC8iICsgdGhpcy51c2VyLnNjaG9vbC5pZCkudGhlbihyZXMgPT4gewogICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpCiAgICAgICAgICB0aGlzLnNjaG9vbCA9IHJlcy5kYXRhLnNjaG9vbDsKICAgICAgICAgIHRoaXMuZHJhd2VyID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuJG1zZygi6K+35a6M5ZaE5L+h5oGvIiwgIndhcm5pbmciKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhpcy4kbXNnKCLmgqjlkJHmnKrnmbvpmYYs5rKh5pyJ5p2D6ZmQIiwgImVycm9yIik7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgLy8g6I635Y+W5b2T5YmN5bGP5bmV5a695bqmCiAgICB3aW5kb3cub25yZXNpemUgPSAoKSA9PiB7CiAgICAgIHRoaXMud2luZG93V2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7CiAgICB9OwogICAgLy8g5paH5a2X6aCt5YOPCiAgICB0aGlzLnRleHRBdmF0YXIodGhpcy51c2VyLnVzZXJuYW1lKTsKICB9Cn07"},{"version":3,"names":["mapState","mapMutations","user","name","methods","changeColor","val","sessionStorage","setItem","JSON","stringify","themeColor","value","color","getBreadcrumb","matched","$route","path","meta","title","concat","breadList","handleClose","done","$msg","submitForm","formName","$refs","validate","valid","$put","id","ruleForm","username","phone","sex","then","res","drawer","$notifyMsg","data","msg","newList","updPassword","$prompt","confirmButtonText","cancelButtonText","inputType","closeOnClickModal","inputPattern","inputErrorMessage","password","catch","recharge","studentId","balance","personalInformation","dialogVisible","submitChanges","$get","rs","setUser","parse","getItem","firstName","textAvatar","exit","removeItem","$router","push","arr","split","i","substr","toLocaleUpperCase","console","log","computed","theme","$store","state","validateUsername","rule","callback","Error","validatePhone","rules","validator","trigger","windowWidth","document","documentElement","clientWidth","activeIndex","isCollapse","admin","school","watch","to","form","created","dept","mounted","window","onresize"],"sources":["src/views/user/Home.vue"],"sourcesContent":["<template>\n    <div class=\"main\">\n        <div class=\"left\" :style=\"{width:isCollapse?'64px':'200px',background:themeColor.bg,color:themeColor.color}\" style=\"transition: .3s;\">\n            <div class=\"logo\">\n                <img src=\"@s/assets/logo.jpg\" style=\"width: 26%\">\n            </div>\n            <el-menu\n                    :collapse-transition=\"false\"\n                    :collapse=\"isCollapse\"\n                    :router=\"true\"\n                    :default-active=\"$route.path\"\n                    :background-color=\"themeColor.bg\"\n                    :text-color=\"themeColor.color\"\n                    :unique-opened=\"true\">\n                <el-menu-item index=\"/home/\">\n                    <i class=\"el-icon-s-home\"></i>\n                    <span>首页</span>\n                </el-menu-item>\n                <el-submenu index=\"1\">\n                    <template slot=\"title\">\n                        <i class=\"el-icon-office-building\"></i>\n                        <span>任务管理</span>\n                    </template>\n                        <el-menu-item index=\"/home/task\">\n                            <i class=\"el-icon-s-order\"></i>\n                            <span>发布任务</span>\n                        </el-menu-item>\n                        <el-menu-item index=\"/home/accept\">\n                            <i class=\"el-icon-s-order\"></i>\n                            <span>接受任务</span>\n                        </el-menu-item>\n                </el-submenu>\n\n                <el-submenu index=\"4\">\n                    <template slot=\"title\">\n                        <i class=\"el-icon-paperclip\"></i>\n                        <span>订单管理</span>\n                    </template>\n                        <el-menu-item index=\"/home/published\">\n                            <i class=\"el-icon-s-order\"></i>\n                            <span>已发布任务</span>\n                        </el-menu-item>\n                        <el-menu-item index=\"/home/accepted\">\n                            <i class=\"el-icon-s-order\"></i>\n                            <span>已接受任务</span>\n                        </el-menu-item>\n                </el-submenu>\n\n                <el-submenu index=\"7\">\n                    <template slot=\"title\">\n                        <i class=\"el-icon-s-custom\"></i>\n                        <span>公告管理</span>\n                    </template>\n                    <el-menu-item index=\"/home/noticeu\">查看公告\n                    </el-menu-item>\n                </el-submenu>\n\n                <el-submenu index=\"9\">\n                    <template slot=\"title\">\n                        <i class=\"el-icon-s-custom\"></i>\n                        <span>评价管理</span>\n                    </template>\n                    <el-menu-item index=\"/home/myremark\">我的评价\n                    </el-menu-item>\n                    <el-menu-item index=\"/home/userremark\">评价我的\n                    </el-menu-item>\n                </el-submenu>\n                \n                <el-submenu index=\"11\">\n                    <template slot=\"title\">\n                        <i class=\"el-icon-s-custom\"></i>\n                        <span>个人中心</span>\n                    </template>\n                    <el-menu-item index=\"/home/MyProfile\">个人信息\n                    </el-menu-item>\n                </el-submenu>\n            </el-menu>\n        </div>\n\n        <div class=\"right\"\n             :style=\"{width:isCollapse?windowWidth-64+'px':windowWidth-200+'px',left:isCollapse?'64px':'200px'}\">\n            <div class=\"top\"\n                 :style=\"{width:isCollapse?windowWidth-64+'px':windowWidth-200+'px',left:isCollapse?'64px':'200px',background:themeColor.bg}\">\n                <div class=\"icon\" @click=\"isCollapse = !isCollapse\">\n                    <i :class=\"isCollapse?'el-icon-s-unfold':'el-icon-s-fold'\" :style=\"{color:themeColor.color}\"></i>\n                </div>\n                <el-menu\n                        :unique-opened=\"true\"\n                        :default-active=\"activeIndex\"\n                        class=\"el-menu-demo\"\n                        mode=\"horizontal\"\n                        :background-color=\"themeColor.bg\"\n                        :text-color=\"themeColor.color\"\n                        :active-text-color=\"themeColor.color\"\n                        menu-trigger=\"click\">\n\n                    <el-menu-item @click=\"recharge(user.studentId)\">充值余额</el-menu-item>\n                    <el-submenu index=\"1\">\n                        <template slot=\"title\">更换主题</template>\n                        <el-menu-item v-for=\"item in theme\" @click=\"changeColor(item)\">\n                            {{item.name}}\n                        </el-menu-item>\n                    </el-submenu>\n                    <el-submenu index=\"2\">\n<!--                        <template slot=\"title\">{{user.username}}</template>-->\n                        <el-avatar slot=\"title\" style=\"background: #65c4a6; user-select: none;\">{{firstName}}</el-avatar>\n                        <el-menu-item index=\"2-1\" @click=\"exit\">退出</el-menu-item>\n                        <el-menu-item index=\"2-2\" @click=\"updPassword(user.id)\">修改密码</el-menu-item>\n                        <el-menu-item index=\"2-3\" @click=\"personalInformation()\">修改个人信息</el-menu-item>\n                    </el-submenu>\n                </el-menu>\n\n            </div>\n            <div class=\"bottom\">\n                <div class=\"bottom_top\">\n                    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n                        <el-breadcrumb-item v-for=\"item in breadList\" :to=\"item.path\" v-if=\"item.meta.title\">\n                            {{item.meta.title}}\n                        </el-breadcrumb-item>\n                    </el-breadcrumb>\n                </div>\n                <transition name=\"el-fade-in\" mode=\"out-in\">\n                    <router-view @personalInformation=\"personalInformation\"></router-view>\n                </transition>\n            </div>\n        </div>\n\n        <el-drawer\n                title=\"完善信息\"\n                :visible.sync=\"drawer\"\n                direction=\"rtl\"\n                closeDrawer=\"false\"\n                :show-close=\"false\"\n                :before-close=\"handleClose\">\n            <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\"\n                     class=\"demo-ruleForm ruleform\">\n                <el-form-item label=\"班级\">\n                    <el-cascader\n                            v-model=\"value\"\n                            :options=\"school.depts\"\n                            :props=\"{\n                                children:'classes',\n                                label:'name',\n                                value:'id'\n                            }\"\n                    ></el-cascader>\n                </el-form-item>\n                <el-form-item label=\"姓名\" prop=\"username\">\n                    <el-input v-model=\"ruleForm.username\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"手机号\" prop=\"phone\">\n                    <el-input v-model.number=\"ruleForm.phone\"></el-input>\n                </el-form-item>\n\n                <el-form-item label=\"性别\">\n                    <el-radio-group v-model=\"sex\">\n                        <el-radio label=\"0\">男</el-radio>\n                        <el-radio label=\"1\">女</el-radio>\n                    </el-radio-group>\n                </el-form-item>\n\n                <el-form-item>\n                    <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">提交</el-button>\n                </el-form-item>\n            </el-form>\n        </el-drawer>\n\n        <el-dialog title=\"修改信息\" :visible.sync=\"dialogVisible\" :close-on-click-modal=\"false\">\n            <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\">\n                <el-form-item label=\"姓名\" prop=\"username\">\n                    <el-input v-model.number=\"ruleForm.username\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"手机号\" prop=\"phone\">\n                    <el-input v-model.number=\"ruleForm.phone\" oninput=\"if(value.length>11)value=value.slice(0,11)\"></el-input>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogVisible = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"submitChanges\">确 定</el-button>\n            </div>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    import {mapState, mapMutations} from \"vuex\"\n    import user from \"@s/store/module/user\";\n\n    export default {\n        name: \"Home\",\n        methods: {\n            ...mapMutations('user', ['setUser']),\n            changeColor(val){\n                sessionStorage.setItem(\"themeColor\",JSON.stringify(val))\n                this.themeColor = {'bg':val.value,'color':val.color};\n            },\n            //面包屑\n            getBreadcrumb() {\n                let matched = this.$route.matched;\n                if (matched[0].name != 'home') {\n                    matched = [{path: \"/home/\", meta: {title: '首页'}}].concat(matched)\n                }\n                this.breadList = matched;\n            },\n            //关闭抽屉触发的事件\n            handleClose(done) {\n                this.$msg(\"请完善资料\", \"error\")\n            },\n            submitForm(formName) {\n                this.$refs[formName].validate((valid) => {\n                    if (valid) {\n                        if (this.value) {\n                            this.$put(\"/user\",\n                                {\n                                    id: this.user.id,\n                                    \"deptId\": this.value[0],\n                                    \"classId\": this.value[1],\n                                    \"username\": this.ruleForm.username,\n                                    \"phone\": this.ruleForm.phone,\n                                    'sex' : this.sex\n                                })\n                            .then(res => {\n                                // console.log(res)\n                                this.drawer = false;\n                                this.$notifyMsg(\"成功\", res.data.msg, \"success\")\n                                this.newList(this.user.id)\n                            })\n                        } else {\n                            this.$notifyMsg(\"错误\", \"请选择班级\", \"error\")\n                        }\n                    } else {\n                        // console.log('error submit!!');\n                        return false;\n                    }\n                });\n            },\n            //修改密码\n            updPassword(id) {\n                this.$prompt('请输入密码', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    inputType: 'password',\n                    closeOnClickModal:false,\n                    inputPattern: /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/,\n                    inputErrorMessage: '格式不对，密码只能输入6-16位英文和数字'\n                }).then((res) => {\n                    // console.log(res);\n                    this.$put('/user', {id: id, password: res.value})\n                    .then((res) => {\n                        this.$notifyMsg('成功', res.data.msg, 'success')\n                    })\n                }).catch(() => {\n                })\n            },\n            recharge(id) {\n                this.$prompt('请输入充值金额', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    inputType: 'text',\n                    closeOnClickModal:false,\n                    inputPattern: /^[0-9]*$/,\n                    inputErrorMessage: '格式不对，只能输入数字'\n                }).then((res) => {\n                    // console.log(res);\n                    this.$put('/user/rollIn', {studentId: id, balance: res.value})\n                    .then((res) => {\n                        this.newList(this.user.id)\n                        this.$notifyMsg('成功', '充值成功', 'success')\n                    })\n                }).catch(() => {\n                })\n            },\n            personalInformation() {\n                this.dialogVisible = true;\n                this.ruleForm.username = this.user.username\n                this.ruleForm.phone = this.user.phone\n            },\n            submitChanges(){\n                this.$put(\"/user\",{id:this.user.id,username:this.ruleForm.username,phone:this.ruleForm.phone})\n                .then(res=>{\n                    this.$notifyMsg(\"成功\",res.data.msg,\"success\",1000);\n                    this.dialogVisible = false;\n                    this.newList(this.user.id)\n                })\n            },\n            //根据当前用户查询id\n            newList(id) {\n                this.$get(\"/user/\" + id)\n                .then((rs) => {\n                    sessionStorage.setItem(\"user\", JSON.stringify(rs.data.user))\n                    this.setUser(JSON.parse(sessionStorage.getItem(\"user\")))\n                    // 修改完名字, 清空當前firstName; 避免出現疊加\n                    this.firstName = '';\n                    this.textAvatar(rs.data.user.username);\n                })\n            },\n            exit(){\n                sessionStorage.removeItem('user');\n                this.$router.push('/')\n            },\n            // 文字頭像\n            textAvatar(username) {\n                let arr = username.split(' ');\n                for (var i in arr) {\n                    this.firstName += arr[i].substr(0,1);\n                }\n                this.firstName = this.firstName.toLocaleUpperCase();\n                console.log('firstName->' + this.firstName);\n            }\n        },\n        computed: {\n            ...mapState('user', ['user']),\n            theme(){\n                return this.$store.state.theme.theme\n            },\n        },\n        data() {\n            var validateUsername = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('请输入姓名'));\n                } else {\n                    callback();\n                }\n            };\n            var validatePhone = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('请输入手机号'));\n                } else {\n                    callback();\n                }\n            };\n\n            return {\n                // 文字头像\n                firstName:'',\n                ruleForm: {\n                    username: '',\n                    phone: ''\n                },\n                rules: {\n                    username: [\n                        {validator: validateUsername, trigger: 'blur'}\n                    ],\n                    phone: [\n                        {validator: validatePhone, trigger: 'blur'}\n                    ]\n                },\n                //颜色\n                themeColor : {'bg':'#fff','color':'#000'},\n                //性别\n                sex:'0',\n                drawer: false,\n                //当前路由\n                breadList: [],\n                //当前屏幕宽度\n                windowWidth: document.documentElement.clientWidth,\n                activeIndex: '1',\n                //控制菜单是否展开\n                isCollapse: false,\n                admin: \"\",\n                school: [],\n                //级联选择器的值\n                value: \"\",\n                dialogVisible:false\n            }\n        },\n        watch: {\n            '$route'(to, form) {\n                this.getBreadcrumb()\n            }\n        },\n        created() {\n            let theme = JSON.parse(sessionStorage.getItem(\"themeColor\"));\n            if (theme){\n                this.themeColor = {'bg':theme.value,'color':theme.color}\n            }\n            if (sessionStorage.getItem('user')){\n                this.getBreadcrumb();\n                this.setUser(JSON.parse(sessionStorage.getItem(\"user\")))\n                if (!this.user.dept) {\n                    this.$get(\"/school/\" + this.user.school.id)\n                    .then((res) => {\n                        // console.log(res.data)\n                        this.school = res.data.school;\n                        this.drawer = true\n                        this.$msg(\"请完善信息\", \"warning\")\n                    })\n                }\n            }else {\n                this.$msg(\"您向未登陆,没有权限\",\"error\")\n                this.$router.push(\"/\")\n            }\n\n        },\n        mounted() {\n            // 获取当前屏幕宽度\n            window.onresize = () => {\n                this.windowWidth = document.documentElement.clientWidth\n            }\n            // 文字頭像\n            this.textAvatar(this.user.username);\n        }\n    }\n</script>\n\n<style scoped lang=\"less\">\n    .main {\n        display: flex;\n        height: 90%;\n\n        .left {\n            position: fixed;\n            height: 100%;\n\n            .logo {\n                width: 90%;\n                /*color: white;*/\n                font-size: 16px;\n                text-align: center;\n                padding: 8px 0;\n                /*border: 1px solid white;*/\n                margin: 9.1px auto 0 auto;\n            }\n        }\n\n        .right {\n            transition: all 0.3s ease 0s;\n            position: relative;\n\n            .top {\n                transition: all 0.3s ease 0s;\n                position: fixed;\n                /*color: #fff;*/\n                display: flex;\n                align-items: center;\n                justify-content: space-between;\n                z-index: 9;\n\n                .icon {\n                    font-size: 20px;\n                    cursor: pointer;\n                    margin-left: 10px;\n                }\n            }\n\n            .bottom {\n                width: 100%;\n                height: 100%;\n                /*background: #fff;*/\n                margin-top: 65px;\n                .bottom_top {\n                    padding: 20px;\n                }\n            }\n        }\n\n        .ruleform /deep/ .el-input {\n            width: 80% !important;\n        }\n\n        /deep/ .el-cascader {\n            width: 100% !important;\n        }\n    }\n</style>\n"],"mappings":"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","ignoreList":[]}]}